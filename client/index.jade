doctype html
html(lang='en', data-ng-app='eshoprShop')
    head
        meta(charset='utf-8')
        title Angular Auth Example
        //- link(rel='stylesheet', href='/css/app.css')
        link(href="/components/bootstrap/dist/css/bootstrap.min.css", rel="stylesheet")
        link(href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.5.4/bootstrap-select.min.css", rel="stylesheet")
        link(href="/components/font-awesome/css/font-awesome.min.css", rel="stylesheet")
        link(href="/views/partials/page/ngview.css", rel="stylesheet")
        //- link(href="/views/partials/page/ngview-animate.css", rel="stylesheet")
        //- link(href="/views/partials/partials.css", rel="stylesheet")
        //- link(href="/recipes/recipes.css", rel="stylesheet")
        link(href="/components/theme.css", rel="stylesheet")

        // This is needed because Facebook login redirects add #_=_ at the end of the URL
        script(type="text/javascript").
            if (window.location.href.indexOf('#_=_') > 0) {
                window.location = window.location.href.replace(/#.*/, '');
            }
    body(data-ng-cloak)

        .navbar(data-ng-controller="NavCtrl")
            .navbar-inner
                .container-fluid
                    ul.nav.nav-tabs
                        li(data-access-level='accessLevels.anon', active-nav)
                            a(href='/login') Log in
                        li(data-access-level='accessLevels.anon', active-nav)
                            a(href='/register') Register
                        li(data-access-level='accessLevels.anon', active-nav)
                            a(href='/') Home
                        li(data-access-level='accessLevels.anon', active-nav)
                            a(href='/recipes') Recipes
                        li(data-access-level='accessLevels.anon', active-nav='nestedTop')
                            a(href='/private') Private
                        li(data-access-level='accessLevels.admin', active-nav)
                            a(href='/admin') Admin
                        li(data-access-level='accessLevels.admin', active-nav)
                            a(href='/admin') Admin

                        div#userInfo.pull-right(data-access-level='accessLevels.anon')
                            | Welcome&nbsp;
                            strong {{ user.username }}&nbsp;
                            span.label(data-ng-class='{"label-info": user.role.title == userRoles.user.title, "label-success": user.role.title == userRoles.admin.title}') {{ user.role.title }}
                            a(href="", data-ng-click="logout()")
                                | Log out

        
        .container.fluid
            .main-view(data-ui-view autoscroll="false")

        #alertBox.alert.alert-danger(data-ng-show="error")
            button(type="button", class="close", data-ng-click="error = null;") &times;
            strong Oh no!&nbsp;
            span(data-ng-bind="error")

        .footer
            .row
                .col-md-12
                    h2 Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

        script(src='/components/angular/angular.min.js')
        script(src='/components/angular-cookies/angular-cookies.min.js')
        script(src='/components/angular-ui-router/release/angular-ui-router.min.js')
        script(src='/components/angular-resource/angular-resource.js')
        script(src='/components/angular-animate/angular-animate.js')
        script(src='/components/angular-bootstrap/ui-bootstrap.js')
        script(src='/components/angular-bootstrap/ui-bootstrap-tpls.js')
        script(src='/components/jquery/dist/jquery.js')
        script(src='https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.5.4/bootstrap-select.min.js')
        script(src='/js/routingConfig.js')
        script(src='/js/app.js')
        script(src='/js/services.js')
        script(src='/js/controllers.js')
        script(src='/js/filters.js')
        script(src='/js/directives.js')
        script(src='/js/api.js')
        script(src='/js/cupboardController.js')
        script(src='/js/page/pageController.js')
        script(src='/js/clock/clockController.js')
        script(src='/js/recipes/recipesController.js')




        // Partial views... Load up front to make transitions smoother
        script(type="text/ng-template", id="404")
            include views/partials/404
        script(type="text/ng-template", id="admin")
            include views/partials/admin
        script(type="text/ng-template", id="login")
            include views/partials/login
        script(type="text/ng-template", id="private/layout")
            include views/partials/private/layout
        script(type="text/ng-template", id="private/welcome")
            include views/partials/private/welcome
        script(type="text/ng-template", id="private/add")
            include views/partials/private/add
        script(type="text/ng-template", id="private/cupboard")
            include views/partials/private/cupboard
        script(type="text/ng-template", id="private/write")
            include views/partials/private/write
        script(type="text/ng-template", id="private/stock")
            include views/partials/private/stock
        script(type="text/ng-template", id="register")
            include views/partials/register
        script(type="text/ng-template", id="page/ngview")
            include views/partials/page/ngview
        script(type="text/ng-template", id="page/intro")
            include views/partials/page/intro
        script(type="text/ng-template", id="page/welcome")
            include views/partials/page/welcome
        script(type="text/ng-template", id="page/two")
            include views/partials/page/two
        script(type="text/ng-template", id="page/three")
            include views/partials/page/three
        script(type="text/ng-template", id="clock/clock")
            include views/partials/clock/clock
        script(type="text/ng-template", id="recipes/recipes")
            include views/partials/recipes/recipes
        script(type="text/ng-template", id="recipes/recipe")
            include views/partials/recipes/recipe
        script(type="text/ng-template", id="recipes/add")
            include views/partials/recipes/add


